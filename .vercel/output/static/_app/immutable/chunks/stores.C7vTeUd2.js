import{w as h}from"./entry.UxVCFaJS.js";import{n as $,y as O,z as q}from"./scheduler.B1XGPk8y.js";const z=typeof window<"u";let E=z?()=>window.performance.now():()=>Date.now(),D=z?t=>requestAnimationFrame(t):$;const y=new Set;function F(t){y.forEach(s=>{s.c(t)||(y.delete(s),s.f())}),y.size!==0&&D(F)}function T(t){let s;return y.size===0&&D(F),{promise:new Promise(e=>{y.add(s={c:t,f:e})}),abort(){y.delete(s)}}}function A(t){return Object.prototype.toString.call(t)==="[object Date]"}function j(t,s,e,i){if(typeof e=="number"||A(e)){const r=i-e,n=(e-s)/(t.dt||1/60),o=t.opts.stiffness*r,f=t.opts.damping*n,a=(o-f)*t.inv_mass,c=(n+a)*t.dt;return Math.abs(c)<t.opts.precision&&Math.abs(r)<t.opts.precision?i:(t.settled=!1,A(e)?new Date(e.getTime()+c):e+c)}else{if(Array.isArray(e))return e.map((r,n)=>j(t,s[n],e[n],i[n]));if(typeof e=="object"){const r={};for(const n in e)r[n]=j(t,s[n],e[n],i[n]);return r}else throw new Error(`Cannot spring ${typeof e} values`)}}function G(t,s={}){const e=h(t),{stiffness:i=.15,damping:r=.8,precision:n=.01}=s;let o,f,a,c=t,u=t,l=1,k=0,g=!1;function w(m,p={}){u=m;const C=a={};return t==null||p.hard||d.stiffness>=1&&d.damping>=1?(g=!0,o=E(),c=m,e.set(t=u),Promise.resolve()):(p.soft&&(k=1/((p.soft===!0?.5:+p.soft)*60),l=0),f||(o=E(),g=!1,f=T(b=>{if(g)return g=!1,f=null,!1;l=Math.min(l+k,1);const P={inv_mass:l,opts:d,settled:!0,dt:(b-o)*60/1e3},S=j(P,c,t,u);return o=b,c=t,e.set(t=S),P.settled&&(f=null),!P.settled})),new Promise(b=>{f.promise.then(()=>{C===a&&b()})}))}const d={set:w,update:(m,p)=>w(m(u,t),p),subscribe:e.subscribe,stiffness:i,damping:r,precision:n};return d}function I(t){return--t*t*((1.70158+1)*t+1.70158)+1}function J(t){return t===0||t===1?t:t<.5?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-t*20)+1}function M(t,s){if(t===s||t!==t)return()=>t;const e=typeof t;if(e!==typeof s||Array.isArray(t)!==Array.isArray(s))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=s.map((r,n)=>M(t[n],r));return r=>i.map(n=>n(r))}if(e==="object"){if(!t||!s)throw new Error("Object cannot be null");if(A(t)&&A(s)){t=t.getTime(),s=s.getTime();const n=s-t;return o=>new Date(t+o*n)}const i=Object.keys(s),r={};return i.forEach(n=>{r[n]=M(t[n],s[n])}),n=>{const o={};return i.forEach(f=>{o[f]=r[f](n)}),o}}if(e==="number"){const i=s-t;return r=>t+r*i}throw new Error(`Cannot interpolate ${e} values`)}function L(t,s={}){const e=h(t);let i,r=t;function n(o,f){if(t==null)return e.set(t=o),Promise.resolve();r=o;let a=i,c=!1,{delay:u=0,duration:l=400,easing:k=q,interpolate:g=M}=O(O({},s),f);if(l===0)return a&&(a.abort(),a=null),e.set(t=r),Promise.resolve();const w=E()+u;let d;return i=T(m=>{if(m<w)return!0;c||(d=g(t,o),typeof l=="function"&&(l=l(t,o)),c=!0),a&&(a.abort(),a=null);const p=m-w;return p>l?(e.set(t=o),!1):(e.set(t=d(k(p/l))),!0)}),i.promise}return{set:n,update:(o,f)=>n(o(r,t),f),subscribe:e.subscribe}}const N=()=>{const{subscribe:t,set:s,update:e}=h(null);return{subscribe:t,set:s,setFromPath:(r,n)=>{const o=n.replace("/details",""),f=r.find(a=>(a.data[0]?a.data[0].slug:a.data.slug)===o);s(f)}}},K=N(),Q=h(null),R=h(!0),U=G(18,{damping:.5}),V=h(null),W=L([0,0,40],{duration:1e3,easing:I});export{U as a,I as b,W as c,J as e,Q as f,R as m,V as r,K as s};
