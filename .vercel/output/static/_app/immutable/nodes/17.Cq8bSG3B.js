import{s as E,i as G,h as J,c as K}from"../chunks/scheduler.B1XGPk8y.js";import{S as A,i as U,e as P,k as _,c as T,a as H,l as d,d as p,q as L,g as w,m as g,w as M,n as m,o as $,p as h,t as W,s as k,H as Q,b as D,f as S,A as X,h as z,j as R,B as Y,v as V,u as y,r as I}from"../chunks/index.Dql_17GW.js";import{r as Z}from"../chunks/stores.C7vTeUd2.js";import{a as q}from"../chunks/SectionWrapper.B9uG607o.js";import{P as v}from"../chunks/PressLink.J9FSEamV.js";import{B as x}from"../chunks/PaneNavigation.DEIuv5zT.js";import{D as ee}from"../chunks/DetailsWrapper.XEMao4yf.js";import{S as N,a as te}from"../chunks/SelectList.recONlPw.js";import{P as se}from"../chunks/PlaylistItem.CPEuMkO0.js";const re=(n,t)=>{const s=n.find(r=>r.data.slug===t),e=(r,i)=>(i.children?i.children.reduce(e,r):r.has(i)||r.add(i),r),l=s.ancestors().reduce(e,new Set);return Array.from(l)};function ne(n){let t,s,e,l,r;return{c(){t=P("p"),s=W(n[2]),e=k(),l=P("p"),r=new Q(!1),this.h()},l(i){t=T(i,"P",{});var o=H(t);s=D(o,n[2]),o.forEach(p),e=S(i),l=T(i,"P",{});var u=H(l);r=X(u,!1),u.forEach(p),this.h()},h(){r.a=null},m(i,o){w(i,t,o),z(t,s),w(i,e,o),w(i,l,o),r.m(n[1],l)},p(i,o){o&4&&R(s,i[2]),o&2&&r.p(i[1])},d(i){i&&(p(t),p(e),p(l))}}}function le(n){let t,s,e,l,r;return s=new x({props:{xs:!0,center:!0,$$slots:{default:[ne]},$$scope:{ctx:n}}}),{c(){t=P("button"),_(s.$$.fragment),this.h()},l(i){t=T(i,"BUTTON",{class:!0});var o=H(t);d(s.$$.fragment,o),o.forEach(p),this.h()},h(){L(t,"class","mt-2")},m(i,o){w(i,t,o),g(s,t,null),e=!0,l||(r=M(t,"click",function(){G(n[0])&&n[0].apply(this,arguments)}),l=!0)},p(i,[o]){n=i;const u={};o&22&&(u.$$scope={dirty:o,ctx:n}),s.$set(u)},i(i){e||(m(s.$$.fragment,i),e=!0)},o(i){$(s.$$.fragment,i),e=!1},d(i){i&&p(t),h(s),l=!1,r()}}}const ae="&#8593;",ie="&#8595;";function oe(n,t,s){let e,l,{isClamped:r}=t,{onClick:i}=t;return n.$$set=o=>{"isClamped"in o&&s(3,r=o.isClamped),"onClick"in o&&s(0,i=o.onClick)},n.$$.update=()=>{n.$$.dirty&8&&s(2,e=r?"show more":"show less"),n.$$.dirty&8&&s(1,l=r?ie:ae)},[i,l,e,r]}class fe extends A{constructor(t){super(),U(this,t,oe,le,E,{isClamped:3,onClick:0})}}function j(n){let t,s;return t=new fe({props:{isClamped:n[3],onClick:n[5]}}),{c(){_(t.$$.fragment)},l(e){d(t.$$.fragment,e)},m(e,l){g(t,e,l),s=!0},p(e,l){const r={};l&8&&(r.isClamped=e[3]),t.$set(r)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){$(t.$$.fragment,e),s=!1},d(e){h(t,e)}}}function ue(n){let t,s,e,l,r,i,o,u=n[4]&&j(n);return{c(){t=P("div"),s=P("p"),e=W(n[1]),r=k(),u&&u.c(),this.h()},l(a){t=T(a,"DIV",{class:!0});var f=H(t);s=T(f,"P",{class:!0});var c=H(s);e=D(c,n[1]),c.forEach(p),r=S(f),u&&u.l(f),f.forEach(p),this.h()},h(){L(s,"class",l=n[4]&&n[3]?n[0]?"line-clamp-3":"line-clamp-5":"line-clamp-none"),L(t,"class","flex flex-col mb-6 text-xs text-tprimary/70 leading-relaxed"),J(()=>n[6].call(t))},m(a,f){w(a,t,f),z(t,s),z(s,e),z(t,r),u&&u.m(t,null),i=Y(t,n[6].bind(t)),o=!0},p(a,[f]){(!o||f&2)&&R(e,a[1]),(!o||f&25&&l!==(l=a[4]&&a[3]?a[0]?"line-clamp-3":"line-clamp-5":"line-clamp-none"))&&L(s,"class",l),a[4]?u?(u.p(a,f),f&16&&m(u,1)):(u=j(a),u.c(),m(u,1),u.m(t,null)):u&&(V(),$(u,1,1,()=>{u=null}),y())},i(a){o||(m(u),o=!0)},o(a){$(u),o=!1},d(a){a&&p(t),u&&u.d(),i()}}}function me(n,t,s){let{short:e}=t,{content:l}=t,r=!0,i=!1,o;const u=c=>{s(3,r=!0)},a=()=>s(3,r=!r);function f(){o=this.clientHeight,s(2,o)}return n.$$set=c=>{"short"in c&&s(0,e=c.short),"content"in c&&s(1,l=c.content)},n.$$.update=()=>{n.$$.dirty&2&&u(),n.$$.dirty&5&&s(4,i=e?o>70:o>100)},[e,l,o,r,i,a,f]}class F extends A{constructor(t){super(),U(this,t,me,ue,E,{short:0,content:1})}}function O(n){let t,s;return t=new ee({props:{closeUrl:n[0],title:n[6],subtitle:n[5],minimizedLabelText:n[2],$$slots:{default:[ge]},$$scope:{ctx:n}}}),{c(){_(t.$$.fragment)},l(e){d(t.$$.fragment,e)},m(e,l){g(t,e,l),s=!0},p(e,l){const r={};l&1&&(r.closeUrl=e[0]),l&64&&(r.title=e[6]),l&32&&(r.subtitle=e[5]),l&4&&(r.minimizedLabelText=e[2]),l&8218&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){$(t.$$.fragment,e),s=!1},d(e){h(t,e)}}}function ce(n){let t,s;return t=new F({props:{content:n[1].attributes.description}}),{c(){_(t.$$.fragment)},l(e){d(t.$$.fragment,e)},m(e,l){g(t,e,l),s=!0},p(e,l){const r={};l&2&&(r.content=e[1].attributes.description),t.$set(r)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){$(t.$$.fragment,e),s=!1},d(e){h(t,e)}}}function pe(n){let t,s;return t=new v({props:{press:n[12],isSelected:n[10]}}),{c(){_(t.$$.fragment)},l(e){d(t.$$.fragment,e)},m(e,l){g(t,e,l),s=!0},p(e,l){const r={};l&4096&&(r.press=e[12]),l&1024&&(r.isSelected=e[10]),t.$set(r)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){$(t.$$.fragment,e),s=!1},d(e){h(t,e)}}}function $e(n){let t,s;return t=new se({props:{node:n[11],isSelected:n[10]}}),{c(){_(t.$$.fragment)},l(e){d(t.$$.fragment,e)},m(e,l){g(t,e,l),s=!0},p(e,l){const r={};l&2048&&(r.node=e[11]),l&1024&&(r.isSelected=e[10]),t.$set(r)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){$(t.$$.fragment,e),s=!1},d(e){h(t,e)}}}function _e(n){let t;return{c(){t=W("credits")},l(s){t=D(s,"credits")},m(s,e){w(s,t,e)},d(s){s&&p(t)}}}function de(n){let t,s,e,l;return t=new te({props:{$$slots:{default:[_e]},$$scope:{ctx:n}}}),e=new F({props:{content:n[1].attributes.credits,short:!0}}),{c(){_(t.$$.fragment),s=k(),_(e.$$.fragment)},l(r){d(t.$$.fragment,r),s=S(r),d(e.$$.fragment,r)},m(r,i){g(t,r,i),w(r,s,i),g(e,r,i),l=!0},p(r,i){const o={};i&8192&&(o.$$scope={dirty:i,ctx:r}),t.$set(o);const u={};i&2&&(u.content=r[1].attributes.credits),e.$set(u)},i(r){l||(m(t.$$.fragment,r),m(e.$$.fragment,r),l=!0)},o(r){$(t.$$.fragment,r),$(e.$$.fragment,r),l=!1},d(r){r&&p(s),h(t,r),h(e,r)}}}function ge(n){let t,s,e,l,r,i,o,u;return t=new q({props:{dependent:n[1].attributes.description,$$slots:{default:[ce]},$$scope:{ctx:n}}}),e=new N({props:{collapsable:!0,containsCurrent:!0,labelText:"press",items:n[4],$$slots:{default:[pe,({isSelected:a,item:f})=>({10:a,12:f}),({isSelected:a,item:f})=>(a?1024:0)|(f?4096:0)]},$$scope:{ctx:n}}}),r=new N({props:{collapsable:!0,selectable:!0,containsCurrent:!0,labelText:"related work",items:n[3],$$slots:{default:[$e,({isSelected:a,item:f})=>({10:a,11:f}),({isSelected:a,item:f})=>(a?1024:0)|(f?2048:0)]},$$scope:{ctx:n}}}),o=new q({props:{dependent:n[1].attributes.credits,$$slots:{default:[de]},$$scope:{ctx:n}}}),{c(){_(t.$$.fragment),s=k(),_(e.$$.fragment),l=k(),_(r.$$.fragment),i=k(),_(o.$$.fragment)},l(a){d(t.$$.fragment,a),s=S(a),d(e.$$.fragment,a),l=S(a),d(r.$$.fragment,a),i=S(a),d(o.$$.fragment,a)},m(a,f){g(t,a,f),w(a,s,f),g(e,a,f),w(a,l,f),g(r,a,f),w(a,i,f),g(o,a,f),u=!0},p(a,f){const c={};f&2&&(c.dependent=a[1].attributes.description),f&8194&&(c.$$scope={dirty:f,ctx:a}),t.$set(c);const C={};f&16&&(C.items=a[4]),f&13312&&(C.$$scope={dirty:f,ctx:a}),e.$set(C);const b={};f&8&&(b.items=a[3]),f&11264&&(b.$$scope={dirty:f,ctx:a}),r.$set(b);const B={};f&2&&(B.dependent=a[1].attributes.credits),f&8194&&(B.$$scope={dirty:f,ctx:a}),o.$set(B)},i(a){u||(m(t.$$.fragment,a),m(e.$$.fragment,a),m(r.$$.fragment,a),m(o.$$.fragment,a),u=!0)},o(a){$(t.$$.fragment,a),$(e.$$.fragment,a),$(r.$$.fragment,a),$(o.$$.fragment,a),u=!1},d(a){a&&(p(s),p(l),p(i)),h(t,a),h(e,a),h(r,a),h(o,a)}}}function he(n){let t,s,e=n[1]&&O(n);return{c(){e&&e.c(),t=I()},l(l){e&&e.l(l),t=I()},m(l,r){e&&e.m(l,r),w(l,t,r),s=!0},p(l,[r]){l[1]?e?(e.p(l,r),r&2&&m(e,1)):(e=O(l),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(V(),$(e,1,1,()=>{e=null}),y())},i(l){s||(m(e),s=!0)},o(l){$(e),s=!1},d(l){l&&p(t),e&&e.d(l)}}}function be(n,t,s){let e,l,r,i,o,u,a,f,c;K(n,Z,b=>s(9,c=b));let{data:C}=t;return n.$$set=b=>{"data"in b&&s(7,C=b.data)},n.$$.update=()=>{var b;n.$$.dirty&128&&s(1,e=(b=C==null?void 0:C.work)==null?void 0:b.data),n.$$.dirty&2&&s(2,l="/"+(e==null?void 0:e.attributes.slug)),n.$$.dirty&4&&s(0,r="/works"+l),n.$$.dirty&2&&s(6,i=e.attributes.title),n.$$.dirty&2&&s(8,o=e==null?void 0:e.attributes.client.data),n.$$.dirty&256&&s(5,u=o.attributes.name),n.$$.dirty&2&&s(4,a=e==null?void 0:e.attributes.presses),n.$$.dirty&515&&s(3,f=e&&re(c,r))},[r,e,l,f,a,u,i,C,o,c]}class Be extends A{constructor(t){super(),U(this,t,be,he,E,{data:7})}}export{Be as component};
